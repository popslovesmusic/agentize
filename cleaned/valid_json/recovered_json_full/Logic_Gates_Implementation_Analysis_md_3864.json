{
  "librarian_v3_with_logic": {
    "ingestion_logic": {
      "gate": "Θ-AND",
      "inputs": [
        "has_provenance(data)",
        "passes_delta_check(data)",
        "omega_validates(data)"
      ],
      "action": {
        "Θ₊": "ingest_to_knowledge_base",
        "Θ₋": "reject_or_quarantine"
      },
      "implementation": {
        "step_1": "Check all three conditions",
        "step_2": "Θ-AND combines results",
        "step_3": "If all Θ₊: ingest, else reject"
      }
    },

    "search_logic": {
      "gate": "Θ-OR",
      "parallel_searches": [
        "search_local_index(query)",
        "search_vector_db(query)",
        "search_full_text(query)"
      ],
      "merge": "Θ-Σ (polarity-weighted ranking)",
      "output": "ranked_results",
      "implementation": {
        "step_1": "Execute all searches in parallel",
        "step_2": "Each returns Θ₊ if found, Θ₋ if not",
        "step_3": "Θ-OR: success if ANY search succeeds",
        "step_4": "Θ-Σ: merge and rank by polarity weight"
      }
    },

    "consistency_check": {
      "gate": "Θ-XOR",
      "condition": "new_data XOR existing_data",
      "action": {
        "match": "Θ₋ (reject duplicate)",
        "mismatch": "Θ₊ (novel, ingest)"
      },
      "implementation": {
        "step_1": "Compare new_data with existing",
        "step_2": "If identical: Θ-XOR → Θ₋ (reject)",
        "step_3": "If different: Θ-XOR → Θ₊ (accept)"
      }
    },

    "omega_validation": {
      "gate_chain": "Π → Θ-MUX",
      "flow": [
        "validate_consistency(data)",
        "Π→Θ (convert to routing signal)",
        "Θ-MUX(Θ₊: accept, Θ₋: quarantine)"
      ],
      "implementation": {
        "step_1": "Π validates against Ω-constraints",
        "step_2": "Result converted to polarity",
        "step_3": "Θ-MUX routes to accept or quarantine"
      }
    }
  }
}